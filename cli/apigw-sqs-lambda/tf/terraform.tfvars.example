# =============================================================================
# API Gateway → SQS → Lambda Architecture
# =============================================================================
# このファイルをコピーして terraform.tfvars を作成してください:
#   cp terraform.tfvars.example terraform.tfvars

# =============================================================================
# General Settings
# =============================================================================

# AWSリージョン
aws_region = "ap-northeast-1"

# プロジェクト名（リソース名のプレフィックスに使用）
project_name = "apigw-sqs-lambda"

# 環境名
environment = "dev"

# スタック名（必須）
stack_name = "my-async-api"

# =============================================================================
# SQS Settings
# =============================================================================

# キューの可視性タイムアウト（秒）
# Lambda タイムアウトより長く設定する必要がある
queue_visibility_timeout = 60

# メッセージ保持期間（秒）- デフォルト4日
queue_message_retention = 345600

# DLQに移動するまでの最大受信回数
dlq_max_receive_count = 3

# FIFOキューを作成するか（順序保証が必要な場合）
create_fifo_queue = false

# =============================================================================
# Lambda Settings
# =============================================================================

# Lambdaランタイム
lambda_runtime = "nodejs18.x"

# Lambdaハンドラー
lambda_handler = "index.handler"

# Lambdaタイムアウト（秒）
lambda_timeout = 30

# Lambdaメモリサイズ（MB）
lambda_memory_size = 256

# SQSバッチサイズ（1-10）
lambda_batch_size = 10

# Lambda環境変数（オプション）
# lambda_environment_variables = {
#   TABLE_NAME = "my-table"
#   DEBUG      = "true"
# }

# =============================================================================
# API Gateway Settings
# =============================================================================

# APIステージ名
api_stage_name = "prod"

# APIエンドポイントのパス
api_endpoint_path = "messages"

# CORSを有効にするか
enable_cors = true

# CORSで許可するオリジン
cors_allowed_origins = "*"

# =============================================================================
# Tags
# =============================================================================

tags = {
  Owner = "your-name"
}
